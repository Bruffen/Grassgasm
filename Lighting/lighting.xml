<?xml version="1.0" ?>
<project name="Lighting" width = "1280" height = "720">
    <assets>
        <scenes>
            <scene name = "Skybox">
                <geometry name = "cube_skybox" type = "BOX" material="mat_skybox"/>
            </scene>
            <scene name = "Axis">
                <geometry name = "axis" type = "AXIS" />
            </scene>
            <scene name = "Sphere">
                <geometry name = "sphere" type = "SPHERE" />
                <TRANSLATE x=0 y=0 z=-1 />
            </scene>
            <scene name = "Plane">
                <geometry name = "plane" type = "SQUARE" />
                <SCALE x=100 y=1 z=100 />
                <TRANSLATE x=0 y=-2 z=0 />
            </scene>
        </scenes>

        <viewports>
            <viewport name="MainViewport">
                <CLEAR_COLOR r="0.6" g="0.8" b="0.98" />
            </viewport>
        </viewports>

        <cameras>
            <camera name="MainCamera" >
                <viewport name="MainViewport" />
                <POSITION x=0 y=0.5 z=7.5 />
                <VIEW x=0.0 y=0.0 z=-1.0 />
                <UP x=0 y=1 z=0 />
                <NEAR value=0.01 />
            </camera>
        </cameras>

        <lights>
            <light name="Sun">
                <DIRECTION x="1.0" y="-1.0" z="-1.0" />
                <COLOR r="0.9" g="0.9" b="0.9" />
            </light>
        </lights>

        <materialLibs>
			<materialLib filename="materials/skybox.mlib" />
            <materialLib filename="materials/postprocess.mlib" />
		</materialLibs>
    </assets>

    <pipelines>
        <pipeline name="Lighting" default="true">
            <pass class="default" name="Pass">
                <scenes>
                    <scene name="Skybox" />
                    <scene name="Axis" />
                    <scene name="Sphere" />
                    <scene name="Plane" />
                </scenes>
                <camera name="MainCamera" />
                <lights>
                    <light name="Sun" />
                </lights>
                <injectionMaps>
					<map toMaterial="mat_skybox">
						<state name="cull" fromLibrary="Lighting#Pass" />
					</map>
				</injectionMaps>
                <materialMaps>
					<map fromMaterial="mat_skybox" 
                         toMaterial="mat_skybox" toLibrary="Lighting#Pass"/>
				</materialMaps>
            </pass>
            <!--pass class="quad" name="PostProcess1">
				<viewport name="MainViewport" />
				<texture name="PostProcessing::tex_source" />
			</pass>
            <pass class="quad" name="PostProcess">
				<viewport name="MainViewport" />
				<renderTarget name="PostProcessing::tex_source" />
                <material name="mat_brightness" fromLibrary="PostProcessing" />
			</pass-->
        </pipeline>
    </pipelines>

    <!--interface> 
        <window label="Sun"> 
            <var label="Direction" type="LIGHT" context="Sun"
                component="DIRECTION"  def="step=10" /> 
        </window>  
    </interface-->   
</project>